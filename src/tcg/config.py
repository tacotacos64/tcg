"""Game configuration and constants."""

# Window settings
HEIGHT, WIDTH = 780, 1000

# Game speed settings
SPEEDRATE = 40  # Simulation steps per frame
FPS = 30  # Frames per second

# Game limits
TIMELIMIT = 1000
STEPLIMIT = 50000

# Colors
color_fortress = [(200, 200, 200), (100, 255, 255), (255, 100, 110)]
color_pawn = [(0, 0, 0), (100, 100, 255), (255, 50, 50)]

# Fortress positions
H_0 = 300
H_base_u = HEIGHT / 2 - H_0
H_base_d = HEIGHT / 2 + H_0
W_base = WIDTH / 2
H_1, W_1 = 50, 250
H_2, W_2 = 200, 180
H_3 = 180
n_fortress = 12

pos_fortress = [
    (W_base - W_1, H_base_u + H_1),
    (W_base, H_base_u),
    (W_base + W_1, H_base_u + H_1),
    (W_base - W_2, H_base_u + H_2),
    (W_base, H_base_u + H_3),
    (W_base + W_2, H_base_u + H_2),
    (W_base - W_2, H_base_d - H_2),
    (W_base, H_base_d - H_3),
    (W_base + W_2, H_base_d - H_2),
    (W_base - W_1, H_base_d - H_1),
    (W_base, H_base_d),
    (W_base + W_1, H_base_d - H_1),
]

# Fortress adjacency matrix
A_fortress = [
    (0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0),  # 0
    (1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0),  # 1
    (0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0),  # 2
    (1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0),  # 3
    (1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0),  # 4
    (0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0),  # 5
    (0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0),  # 6
    (0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1),  # 7
    (0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1),  # 8
    (0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0),  # 9
    (0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1),  # 10
    (0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0),  # 11
]

# Coordinate directions for movement
A_coordinate = [
    [0, (0.980, -0.196), 0, (0.423, 0.906), (0.887, 0.461), 0, 0, 0, 0, 0, 0, 0],
    [(-0.981, 0.196), 0, (0.981, 0.196), 0, (0.0, 1.0), 0, 0, 0, 0, 0, 0, 0],
    [0, (-0.9806, -0.1961), 0, 0, (-0.8872, 0.4614), (-0.4229, 0.9062), 0, 0, 0, 0, 0, 0],
    [(-0.4229, -0.9062), 0, 0, 0, (0.9939, -0.1104), 0, (0.0, 1.0), (0.6332, 0.774), 0, 0, 0, 0],
    [
        (-0.8872, -0.4614),
        (0.0, -1.0),
        (0.8872, -0.4614),
        (-0.9939, 0.1104),
        0,
        (0.9939, 0.1104),
        (-0.6332, 0.774),
        (0.0, 1.0),
        (0.6332, 0.774),
        0,
        0,
        0,
    ],
    [0, 0, (0.4229, -0.9062), 0, (-0.9939, -0.1104), 0, 0, (-0.6332, 0.774), (0.0, 1.0), 0, 0, 0],
    [0, 0, 0, (0.0, -1.0), (0.6332, -0.774), 0, 0, (0.9939, 0.1104), 0, (-0.4229, 0.9062), 0, 0],
    [
        0,
        0,
        0,
        (-0.6332, -0.7739),
        (0.0, -1.0),
        (0.6332, -0.7739),
        (-0.9938, -0.11043),
        0,
        (0.9939, -0.11043),
        (-0.88721, 0.461352),
        (0.0, 1.0),
        (0.8872, 0.4613),
    ],
    [0, 0, 0, 0, (-0.6332, -0.7739), (0.0, -1.0), 0, (-0.9938, 0.11043), 0, 0, 0, (0.4228, 0.9061)],
    [0, 0, 0, 0, 0, 0, (0.4228, -0.9061), (0.8872, -0.46135), 0, 0, (0.9805, 0.19611), 0],
    [0, 0, 0, 0, 0, 0, 0, (0.0, -1.0), 0, (-0.98058, -0.19611), 0, (0.98058, -0.19612)],
    [0, 0, 0, 0, 0, 0, 0, (-0.8872, -0.461352), (-0.42288, -0.90618), 0, (-0.98058, 0.1961), 0],
]

# One-way adjacency
A_fortress_set = [
    (0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0),  # 0
    (0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0),  # 1
    (0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0),  # 2
    (0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0),  # 3
    (0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0),  # 4
    (0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0),  # 5
    (0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0),  # 6
    (0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1),  # 7
    (0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1),  # 8
    (0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0),  # 9
    (0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1),  # 10
    (0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),  # 11
]

# Valid commands list
l_command = [
    (0, 0, 0),
    (1, 0, 1),
    (1, 0, 3),
    (1, 0, 4),
    (1, 1, 0),
    (1, 1, 2),
    (1, 1, 4),
    (1, 2, 1),
    (1, 2, 4),
    (1, 2, 5),
    (1, 3, 0),
    (1, 3, 4),
    (1, 3, 6),
    (1, 3, 7),
    (1, 4, 0),
    (1, 4, 1),
    (1, 4, 2),
    (1, 4, 3),
    (1, 4, 5),
    (1, 4, 6),
    (1, 4, 7),
    (1, 4, 8),
    (1, 5, 2),
    (1, 5, 4),
    (1, 5, 7),
    (1, 5, 8),
    (1, 6, 3),
    (1, 6, 4),
    (1, 6, 7),
    (1, 6, 9),
    (1, 7, 3),
    (1, 7, 4),
    (1, 7, 5),
    (1, 7, 6),
    (1, 7, 8),
    (1, 7, 9),
    (1, 7, 10),
    (1, 7, 11),
    (1, 8, 4),
    (1, 8, 5),
    (1, 8, 7),
    (1, 8, 11),
    (1, 9, 6),
    (1, 9, 7),
    (1, 9, 10),
    (1, 10, 7),
    (1, 10, 9),
    (1, 10, 11),
    (1, 11, 7),
    (1, 11, 8),
    (1, 11, 10),
    (2, 0, 0),
    (2, 1, 0),
    (2, 2, 0),
    (2, 3, 0),
    (2, 4, 0),
    (2, 5, 0),
    (2, 6, 0),
    (2, 7, 0),
    (2, 8, 0),
    (2, 9, 0),
    (2, 10, 0),
    (2, 11, 0),
]
s_command = set(l_command)

# Fortress limits and cooldowns
fortress_limit = [10, 10, 20, 30, 40, 50]
fortress_cool = [[60, 60, 54, 48, 42, 35], [90, 90, 81, 72, 63, 54]]

# Edge index for GNN processing
edge_index = [
    [
        0,
        0,
        0,
        1,
        1,
        1,
        2,
        2,
        2,
        3,
        3,
        3,
        3,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        5,
        5,
        5,
        5,
        6,
        6,
        6,
        6,
        7,
        7,
        7,
        7,
        7,
        7,
        7,
        7,
        8,
        8,
        8,
        8,
        9,
        9,
        9,
        10,
        10,
        10,
        11,
        11,
        11,
    ],
    [
        1,
        3,
        4,
        0,
        2,
        4,
        1,
        4,
        5,
        0,
        4,
        6,
        7,
        0,
        1,
        2,
        3,
        5,
        6,
        7,
        8,
        2,
        4,
        7,
        8,
        3,
        4,
        7,
        9,
        3,
        4,
        5,
        6,
        8,
        9,
        10,
        11,
        4,
        5,
        7,
        11,
        6,
        7,
        10,
        7,
        9,
        11,
        7,
        8,
        10,
    ],
]

# Edge dictionary
Edge_dict = {
    (0, 1, 1): 0,
    (1, 0, 1): 1,
    (0, 1, 2): 2,
    (1, 0, 2): 3,
    (0, 3, 1): 4,
    (3, 0, 1): 5,
    (0, 3, 2): 6,
    (3, 0, 2): 7,
    (0, 4, 1): 8,
    (4, 0, 1): 9,
    (0, 4, 2): 10,
    (4, 0, 2): 11,
    (1, 2, 1): 12,
    (2, 1, 1): 13,
    (1, 2, 2): 14,
    (2, 1, 2): 15,
    (1, 4, 1): 16,
    (4, 1, 1): 17,
    (1, 4, 2): 18,
    (4, 1, 2): 19,
    (2, 4, 1): 20,
    (4, 2, 1): 21,
    (2, 4, 2): 22,
    (4, 2, 2): 23,
    (2, 5, 1): 24,
    (5, 2, 1): 25,
    (2, 5, 2): 26,
    (5, 2, 2): 27,
    (3, 4, 1): 28,
    (4, 3, 1): 29,
    (3, 4, 2): 30,
    (4, 3, 2): 31,
    (3, 6, 1): 32,
    (6, 3, 1): 33,
    (3, 6, 2): 34,
    (6, 3, 2): 35,
    (3, 7, 1): 36,
    (7, 3, 1): 37,
    (3, 7, 2): 38,
    (7, 3, 2): 39,
    (4, 5, 1): 40,
    (5, 4, 1): 41,
    (4, 5, 2): 42,
    (5, 4, 2): 43,
    (4, 6, 1): 44,
    (6, 4, 1): 45,
    (4, 6, 2): 46,
    (6, 4, 2): 47,
    (4, 7, 1): 48,
    (7, 4, 1): 49,
    (4, 7, 2): 50,
    (7, 4, 2): 51,
    (4, 8, 1): 52,
    (8, 4, 1): 53,
    (4, 8, 2): 54,
    (8, 4, 2): 55,
    (5, 7, 1): 56,
    (7, 5, 1): 57,
    (5, 7, 2): 58,
    (7, 5, 2): 59,
    (5, 8, 1): 60,
    (8, 5, 1): 61,
    (5, 8, 2): 62,
    (8, 5, 2): 63,
    (6, 7, 1): 64,
    (7, 6, 1): 65,
    (6, 7, 2): 66,
    (7, 6, 2): 67,
    (6, 9, 1): 68,
    (9, 6, 1): 69,
    (6, 9, 2): 70,
    (9, 6, 2): 71,
    (7, 8, 1): 72,
    (8, 7, 1): 73,
    (7, 8, 2): 74,
    (8, 7, 2): 75,
    (7, 9, 1): 76,
    (9, 7, 1): 77,
    (7, 9, 2): 78,
    (9, 7, 2): 79,
    (7, 10, 1): 80,
    (10, 7, 1): 81,
    (7, 10, 2): 82,
    (10, 7, 2): 83,
    (7, 11, 1): 84,
    (11, 7, 1): 85,
    (7, 11, 2): 86,
    (11, 7, 2): 87,
    (8, 11, 1): 88,
    (11, 8, 1): 89,
    (8, 11, 2): 90,
    (11, 8, 2): 91,
    (9, 10, 1): 92,
    (10, 9, 1): 93,
    (9, 10, 2): 94,
    (10, 9, 2): 95,
    (10, 11, 1): 96,
    (11, 10, 1): 97,
    (10, 11, 2): 98,
    (11, 10, 2): 99,
}

# Initial state
state_ori = [
    [0, 0, 1, 10, -1, [1, 3, 4]],
    [2, 0, 2, 20, -1, [0, 2, 4]],
    [0, 0, 1, 10, -1, [1, 4, 5]],
    [0, 0, 2, 20, -1, [0, 4, 6, 7]],
    [0, 1, 3, 30, -1, [0, 1, 2, 3, 5, 6, 7, 8]],
    [0, 0, 2, 20, -1, [2, 4, 7, 8]],
    [0, 0, 2, 20, -1, [3, 4, 7, 9]],
    [0, 1, 3, 30, -1, [3, 4, 5, 6, 8, 9, 10, 11]],
    [0, 0, 2, 20, -1, [4, 5, 7, 11]],
    [0, 0, 1, 10, -1, [6, 7, 10]],
    [1, 0, 2, 20, -1, [7, 9, 11]],
    [0, 0, 1, 10, -1, [7, 8, 10]],
]

# Edge list
l_edge = [
    [1, 3, 4],
    [0, 2, 4],
    [1, 4, 5],
    [0, 4, 6, 7],
    [0, 1, 2, 3, 5, 6, 7, 8],
    [2, 4, 7, 8],
    [3, 4, 7, 9],
    [3, 4, 5, 6, 8, 9, 10, 11],
    [4, 5, 7, 11],
    [6, 7, 10],
    [7, 9, 11],
    [7, 8, 10],
]

# Swap numbers for perspective
swap_number_l = [11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
swap_number_d = {i: swap_number_l[i] for i in range(len(swap_number_l))}
